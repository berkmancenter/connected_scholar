<a href="#" id="add-resource-link">Create a Resource</a>
<div id="add-resource-dialog" style="display:none;">
  <%= form_for([@document, @document.recommended_resources.build]) do |f| %>
      <div class="field">
        <%= f.label :title %>
        <br/>
        <%= f.text_field :title %>
      </div>
      <div class="field">
        <%= f.label :creators %>
        <br/>
        <%= f.text_area :creators, :value => f.object.creators.join("\n"), :rows => 3 %>
      </div>
      <div class="field">
        <%= f.label :publication_date %>
        <br/>
        <%= f.date_select :publication_date %>
      </div>
      <div class="field">
        <%= f.label :publisher %>
        <br/>
        <%= f.text_field :publisher %>
      </div>
      <div class="field">
        <%= f.label :isbn %>
        <br/>
        <%= f.text_area :id_isbn, :value => f.object.id_isbn.join("\n"), :rows => 2 %>
      </div>
      <div class="field">
        <%= f.label :subjects %>
        <br/>
        <%= f.text_area :desc_subject, :value => f.object.desc_subject.join("\n"), :rows => 3 %>
      </div>
      <div class="actions">
        <%= f.submit %>
      </div>
  <% end %>
</div>
<script>
    $(function() {
        $("#add-resource-link").click(function() {
            $("#add-resource-dialog").dialog("open");
            return false;
        });

        $("#add-resource-dialog").dialog({
            title: "Create a Resource",
            autoOpen: false,
            height: 450,
            width: 330,
            modal: true,
            buttons: {
                "Create Resource": function() {
                    $(":button:contains('Create Resource')").attr("disabled", "disabled").addClass('ui-state-disabled');
                    $("#new_resource").submit();
                },
                "Cancel": function() {
                    $(this).dialog("close");
                }
            }
        });
    });
</script>